{"version":3,"sources":["components/Button.jsx","components/SearchBar.jsx","components/ImageContainer.jsx","components/Gallery.jsx","components/Alert.jsx","components/SearchInfo.jsx","components/Modal.jsx","components/App.js","index.js"],"names":["Button","props","type","className","class","onClick","event","function","loadMoreImages","value","SearchBar","state","searchTerm","inputChangeHandler","setState","target","formSubmitHandler","preventDefault","getImages","onSubmit","this","placeholder","onChange","children","React","Component","ImageContainer","span","imageContainerClickHandler","showModal","image","imgRef","createRef","current","addEventListener","Math","floor","clientHeight","style","gridRow","src","urls","small","alt","ref","Gallery","images","length","map","key","id","Alert","message","SearchInfo","Modal","modalClickHandler","classList","contains","hideModal","modalImageURL","App","errorMessage","showAlert","modalImage","searched","page","query","apiInfo","searchURL","randomURL","per_page","showError","setTimeout","fetch","then","response","json","data","handleFetchedData","results","regular","galleryClass","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.5449b87c.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nlet Button = (props) => {\r\n\tlet buttonClickHandler = (event) => {\r\n\t\tif (props.function === \"load-more\") {\r\n\t\t\tprops.loadMoreImages();\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<button\r\n\t\t\ttype={props.type}\r\n\t\t\tclassName={`button ${props.class}`}\r\n\t\t\tonClick={buttonClickHandler}\r\n\t\t>\r\n\t\t\t{props.value}\r\n\t\t</button>\r\n\t);\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\n\r\nclass SearchBar extends React.Component {\r\n\tstate = {\r\n\t\tsearchTerm: \"\",\r\n\t};\r\n\r\n\tinputChangeHandler = (event) => {\r\n\t\tthis.setState({ searchTerm: event.target.value });\r\n\t};\r\n\r\n\tformSubmitHandler = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tif (this.state.searchTerm !== \"\") {\r\n\t\t\tthis.props.getImages(this.state.searchTerm);\r\n\t\t\tthis.setState({ searchTerm: \"\" });\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<form className=\"form\" onSubmit={this.formSubmitHandler}>\r\n\t\t\t\t<div className=\"input-group\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tplaceholder=\"Search for images...\"\r\n\t\t\t\t\t\tclassName=\"search-bar\"\r\n\t\t\t\t\t\tonChange={this.inputChangeHandler}\r\n\t\t\t\t\t\tvalue={this.state.searchTerm}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t{this.props.children}\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default SearchBar;\r\n","import React from \"react\";\r\n\r\nclass ImageContainer extends React.Component {\r\n\tstate = {\r\n\t\tspan: 0,\r\n\t};\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.imgRef = React.createRef();\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.imgRef.current.addEventListener(\"load\", () => {\r\n\t\t\tlet span = Math.floor(this.imgRef.current.clientHeight / 5);\r\n\t\t\tthis.setState({ span: span });\r\n\t\t});\r\n\t}\r\n\r\n\timageContainerClickHandler = () => {\r\n\t\tthis.props.showModal(this.props.image);\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"image-container\"\r\n\t\t\t\tonClick={this.imageContainerClickHandler}\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tgridRow: ` auto / span ${this.state.span} `,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={this.props.image.urls.small}\r\n\t\t\t\t\talt=\"\"\r\n\t\t\t\t\tref={this.imgRef}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ImageContainer;\r\n","import React from \"react\";\r\nimport ImageContainer from \"./ImageContainer.jsx\";\r\n\r\nclass Gallery extends React.Component {\r\n\trender() {\r\n\t\treturn this.props.images.length > 0 ? (\r\n\t\t\t<>\r\n\t\t\t\t<div className={`gallery`}>\r\n\t\t\t\t\t{this.props.images.map((image) => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ImageContainer\r\n\t\t\t\t\t\t\t\timage={image}\r\n\t\t\t\t\t\t\t\tkey={image.id}\r\n\t\t\t\t\t\t\t\tshowModal={this.props.showModal}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t\t{this.props.children}\r\n\t\t\t</>\r\n\t\t) : null;\r\n\t}\r\n}\r\n\r\nexport default Gallery;\r\n","import React from \"react\";\r\n\r\nclass Alert extends React.Component {\r\n\trender() {\r\n\t\treturn <div className={this.props.class}>{this.props.message}</div>;\r\n\t}\r\n}\r\n\r\nexport default Alert;\r\n","import React from \"react\";\r\n\r\nclass SearchInfo extends React.Component {\r\n\trender() {\r\n\t\tif (this.props.images.length > 0) {\r\n\t\t\tif (this.props.searchTerm) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<h1 className=\"search-info text-center capitalize\">\r\n\t\t\t\t\t\tsearch results for \"<span>{this.props.searchTerm}</span>\r\n\t\t\t\t\t\t\"\r\n\t\t\t\t\t</h1>\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<h1 className=\"search-info text-center capitalize\">\r\n\t\t\t\t\t\tnew images\r\n\t\t\t\t\t</h1>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default SearchInfo;\r\n","import React from \"react\";\r\n\r\nclass Modal extends React.Component {\r\n\tmodalClickHandler = (event) => {\r\n\t\tif (!event.target.classList.contains(\"modal-image\")) {\r\n\t\t\tthis.props.hideModal();\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn this.props.showModal ? (\r\n\t\t\t<div className=\"modal\" onClick={this.modalClickHandler}>\r\n\t\t\t\t<i className=\"fas fa-times fa-3x\"></i>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={this.props.modalImageURL}\r\n\t\t\t\t\talt=\"\"\r\n\t\t\t\t\tclassName=\"modal-image\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t) : null;\r\n\t}\r\n}\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport Button from \"./Button.jsx\";\r\nimport SearchBar from \"./SearchBar.jsx\";\r\nimport \"./css/style.css\";\r\nimport Gallery from \"./Gallery.jsx\";\r\nimport Alert from \"./Alert.jsx\";\r\nimport SearchInfo from \"./SearchInfo.jsx\";\r\nimport Modal from \"./Modal.jsx\";\r\n\r\nclass App extends React.Component {\r\n\tstate = {\r\n\t\t//images previously loaded or retrieved at search\r\n\t\timages: [],\r\n\r\n\t\t//erro message to show when image is not found\r\n\t\terrorMessage: \"\",\r\n\r\n\t\t//if alert should be shown\r\n\t\tshowAlert: false,\r\n\r\n\t\t//if modal should be shown\r\n\t\tshowModal: false,\r\n\r\n\t\t//image to be shown in the modal\r\n\t\tmodalImage: \"\",\r\n\r\n\t\t//whether user has searched for images or not\r\n\t\tsearched: false,\r\n\r\n\t\t//the page in the api to retrieve data from\r\n\t\tpage: 1,\r\n\r\n\t\tquery: null,\r\n\t};\r\n\r\n\t//info about the api\r\n\tapiInfo = {\r\n\t\t//for when user searches for images\r\n\t\tsearchURL: \"https://api.unsplash.com/search/photos\",\r\n\r\n\t\t//for when the app first loads\r\n\t\trandomURL: \"https://api.unsplash.com/photos\",\r\n\r\n\t\t//api key\r\n\t\tkey: \"NFPXHjm0O70CKmPIwGa5LyRSTF22RAGhPvzaPIdwyK8\",\r\n\r\n\t\tper_page: 30,\r\n\t\tquery: \"\",\r\n\t};\r\n\r\n\t//when the app first loads up\r\n\tcomponentDidMount() {\r\n\t\tthis.getImages();\r\n\t}\r\n\r\n\t//show error if image is not found\r\n\tshowError = () => {\r\n\t\tif (this.state.showAlert === true) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.setState({ showAlert: false });\r\n\t\t\t}, 3000);\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Alert message={this.state.errorMessage} class={\"alert show\"} />\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n\r\n\t//when the user clicks load more button\r\n\tloadMoreImages = () => {\r\n\t\t//the page to retrieve data from gets incremented\r\n\t\tthis.setState({ page: ++this.state.page });\r\n\r\n\t\t//getImages() function is called with the updated query\r\n\t\tthis.getImages(this.apiInfo.query);\r\n\t};\r\n\r\n\t//fetches images from the api\r\n\r\n\tgetImages = (searchTerm) => {\r\n\t\t//if the user has entered any search term\r\n\t\tif (searchTerm) {\r\n\t\t\t//checking to see if new images have been searched\r\n\t\t\tif (this.apiInfo.query !== searchTerm) {\r\n\t\t\t\tthis.setState({ images: [] });\r\n\t\t\t\tthis.apiInfo.query = searchTerm;\r\n\r\n\t\t\t\tthis.apiInfo.query = searchTerm;\r\n\r\n\t\t\t\t//checking to see if any search has been made\r\n\t\t\t\t//if no, the images array is cleared to render new images\r\n\t\t\t\t//images that were loaded up when the app started are removed\r\n\t\t\t\tif (this.state.searched === false) {\r\n\t\t\t\t\tthis.setState({ images: [], searched: true });\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfetch(\r\n\t\t\t\t\t`${this.apiInfo.searchURL}?page=${this.state.page}&per_page=${this.apiInfo.per_page}&client_id=${this.apiInfo.key}&query=${this.apiInfo.query}`\r\n\t\t\t\t)\r\n\t\t\t\t\t.then((response) => response.json())\r\n\t\t\t\t\t.then((data) => {\r\n\t\t\t\t\t\t//when the data gets back\r\n\t\t\t\t\t\tthis.handleFetchedData(data.results);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t//if the user has not provided any search term\r\n\t\t\t//meaning\r\n\t\t\t//the app has just loaded up\r\n\r\n\t\t\tfetch(\r\n\t\t\t\t`${this.apiInfo.randomURL}?page=${this.state.page}&per_page=${this.apiInfo.per_page}&client_id=${this.apiInfo.key}`\r\n\t\t\t)\r\n\t\t\t\t.then((response) => response.json())\r\n\t\t\t\t.then((data) => {\r\n\t\t\t\t\t//when the data gets back\r\n\t\t\t\t\tthis.handleFetchedData(data);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\thandleFetchedData = (data) => {\r\n\t\t//checking to see if any data got back\r\n\t\tif (data.length !== 0) {\r\n\t\t\tthis.setState({\r\n\t\t\t\t//updating the images array\r\n\t\t\t\timages: [...this.state.images, ...data],\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setState({\r\n\t\t\t\terrorMessage: \"no images were found\",\r\n\t\t\t\tshowAlert: true,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tshowModal = (image) => {\r\n\t\tthis.setState({\r\n\t\t\tshowModal: true,\r\n\t\t\tmodalImage: image.urls.regular,\r\n\t\t});\r\n\t};\r\n\r\n\thideModal = () => {\r\n\t\tthis.setState({\r\n\t\t\tshowModal: false,\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{this.showError()}\r\n\r\n\t\t\t\t<div className=\"header\">\r\n\t\t\t\t\t<SearchBar getImages={this.getImages}>\r\n\t\t\t\t\t\t<Button value={\"search\"} type={\"submit\"} />\r\n\t\t\t\t\t</SearchBar>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<SearchInfo\r\n\t\t\t\t\tsearchTerm={this.apiInfo.query}\r\n\t\t\t\t\timages={this.state.images}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Gallery images={this.state.images} showModal={this.showModal}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvalue={\"load more\"}\r\n\t\t\t\t\t\tclass={`${this.state.galleryClass} button-gallery`}\r\n\t\t\t\t\t\tfunction={\"load-more\"}\r\n\t\t\t\t\t\tloadMoreImages={this.loadMoreImages}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Gallery>\r\n\r\n\t\t\t\t<Modal\r\n\t\t\t\t\tmodalImageURL={this.state.modalImage}\r\n\t\t\t\t\thideModal={this.hideModal}\r\n\t\t\t\t\tshowModal={this.state.showModal}\r\n\t\t\t\t/>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App.js\";\r\n\r\nReactDOM.render(<App />, document.querySelector(\"#root\"));\r\n"],"sourceRoot":""}